---
date: 2023-12-06
tags: 
  - 游记
author: djwj233
location: Suzhou,China
---

# CTT 2023 [ZAYIN]记

简介：上个赛季的比赛终于打完了。

*建议把比赛名称改为 Grand Prix of Zayin。*

## Day 0

一早出发，到达苏州。CCF 新修的大楼还是挺高端的！

CTT 的考场对我来讲有点恐怖：所有人都在同一个无隔板的房间中，没有丝毫隐私空间。这让我感觉极其不适。

在考场试机的时候电脑的蜂鸣声一直没停过，貌似进行一些错误操作就会发出声音，~~能不能做做通信题~~？

使用的电脑是一台屏幕仅有 13 英寸的笔记本，C 面布满了污垢，感觉很有年代感了。型号是 X380 yoga，2018 年的老机型，据说还是一款二合一机型，不是很理解为啥要拿这种电脑出来给大家写代码，差评。

全程写代码体验极差，于是试机赛顺利没有 AK。不过这个的主要原因是我太小丑，T3 不知道为何没调出来，难绷。

这次来打 CTT 的心态可能和打 APIO 2023 时一模一样。感觉自己也不怎么看重这场 CTT，反正我的实力上限摆在那，看不看重大概是无所谓的。考好了反正拿不了什么好名次，考炸了大不了也只是垫垫底、去不了 CTS 罢了。~~NOI 本来就是在反向 FST 的基础上还垫底进来的，这次垫个底又如何？~~

我这个赛季在各种意义上是不是都有点太摆了？不管怎样让我再摆几天吧。

## Day 1

开场读了一遍三个题，发现没一个题会多项式做法，感觉有点恶心。

想了一会儿发现 T1 的 A 性质是不是从左一直走到最右边再回来向左啊？懒得证了，写一发交交看。

一交发现 WA 了，仔细一想发现好像是错的啊。于是又仔细推了推，推出来的结构大概是每次从左往右再往左再往右这样过去，每次往右的都不交。感觉这东西对的很啊！（事实上这就是题解做法）写了一发又 WA 0，怎么回事呢？

这时候精神状态也不太好，感觉随时可能睡着，还是开个 T2 得了。刚开 T2 的时候我一直尝试把它往“在排列中选出一个子序列使得其相对大小关系与 $B$ 中相同”，然后想了半天想不出来。最后发现这东西会漏信息，于是转向括号树的方向，做了一会儿就会了一个多项式复杂度的东西，写一下看看！

写到一半 ix35 突然跳出来说 T1 行末空格的事，于是换了若干输出格式重新交了几发，没用。没一会儿 T2 写完了，调了半天过了小样例。（这时候感觉已经很不对劲了，感觉平时我写代码不会出这么多锅的）交上去 WA 0，我直接红温了。看了半天 T1 T2 的代码都没看出锅，这时候已经 2h 了，**评测机（好像是）这时候还爆了**，还是先看看 T3 吧。

读了半天 T3，最终还是没法确定它的题意究竟可不可以过程中减到负数，写个能减到负数的交一发看看。

WA 0.

瞪了一会儿瞪出来一个锅，交上去终于有 20 分了。

这时候已经大概 3h 不到一点了，感觉极其不对劲慌忙补了一个 T2 15 分暴力，这次终于一遍过了。

感觉今天手感不太对劲，还是写写不太能挂的 T3 吧！想了会儿会了 $x=1$ 的做法，就是题解中的做法二，写写写，终于拿了 0 + 15 + 50。

感觉 T2 不能扔，还是写个拍子吧。拍了半天，调出好多好多锅，不知道今天脑子怎么长的。一交终于有 50 分了。

一算复杂度我写了个 $\mathcal O(n^4)$ 的，想了一小会儿发现 $\mathcal O(n^2)$ 随便来。不知道能不能过，写一发再说。

于是写写写，交上去又 WA 0。

然后经过一段极其痛苦的调题过程，再交上去终于 75 了。（还好这台机子的 VS Code 有 Debug）把数组开到 $12000$ 直接过了，这时候 4h30m，难绷了。

我座位左边坐着 ymx，大概三个小时已经开始睡觉了。感觉这场是 AK 场啊，这盘怎么翻？？？

写了个 T1 暴力又是 WA 0，想拍都没得拍。感觉大概率是我题读错了，还是扔了吧。

估摸着时间不够，最后尝试冲 T3 链的部分分。先写了个 $\mathcal O(n^2)$ 的版本，预计着一会儿改成线段树就好。自己随便捏了一个样例，又是 WA。**调了大概 15 min 才发现我样例造了个菊花而不是链！！！**懒得测链了最后 7min 开冲线段树，没冲完就结束了，感觉大概差个 1 min 左右写完吧。

为什么今天写啥挂啥，干啥都小丑？？？？？？？感觉今天有效思考时间不超过 40min，剩下时间全是在调题/tuu

最后得分 0 + 100 + 50 = 150。

---

出场一问果然是 AK 场，场均倍杀我，APIO 2023 once more。

问了一下大家 T1 A 性质的做法，好像和我一模一样啊，那我哪里又写挂了？听 myee 讲了一下整个题的做法，感觉就是我场上大致的那个想法，可惜由于 A 性质都没过我直接把这题扔了。（不过不扔的话感觉就我今天这个状态也不可能调完）

感觉今天想题的时候真没啥降智的地方啊！单纯是写代码时出现的莫名其妙的锅太多了（又是 APIO 2023 once more）。这场写代码出现的离谱错误比我今年上半年（除 APIO 2023 外）半个赛季还多，不知道为啥。

没过的两个题都有注意开参与，注意开你害人不浅！

## Day 2

开题发现三个题都不太会，交了个 T1 的 2 分，~~光速吊打了我 day 1 前 2h 的得分~~。

T2 看着像个 DS，稍微能做一点。根据经验啥题都不会的时候开 DS 期望得分还是很高的，所以打算先看 T2。

先写个 $\mathcal O(n^2)$ 暴力！写完了发现怎么搞都过不去样例，搞了半天发现是题意读错了，这时候大概 1h 的样子。

随便搞了个几下发现可以直接上 KDT 啊！写写写调调调，交上去 55，图图了。

然后卡了半天的常，输出了一下感觉对的很啊，这东西不就是 $\mathcal O(n\sqrt{n})$ 的吗？？？

难道有 polylog 高论？想了好长时间，还是不会 polylog，于是改开 T3。

想了半天 T3 的第一个包，发现这是个多项式复合，根本不会做。难道是保留某个低次数的多项式？想想 $\text{deg}=1$，发现 $\text{deg}=1$ 好像至少需要解一个 $a^n\equiv x$ 的方程（$n$ 是未知数），然后感觉非常不可做啊！仔细想想，可能模 $2^k$ 有啥特殊性质？但是我 T2 卡常还没卡完，先卡卡再说。

卡了半天还是图图。想了一会儿 A，越想做法越逆天，细节越多，看来我场上一定是做不出来构造了，写了个 $n\le 10$，弃之。

这时候还有 1h 多一点，我想至少把 T2 过了吧！换了个写法，大概是每 $\sqrt{n}$ 次询问重构一下，复杂度还是 $\mathcal O(n\sqrt{n})$ 的。然后由于一些阴间原因调了半天，中间抽空把 15 分过了，然后卡卡卡，最后一版在 12:59 交上去的，TLE 70。

没时间调块长了，寄。为啥不像 JOI 一样改成最后 1h 不设提交频率限制？？？

最后得分 15 + 70 + 0 = 85，咋每天都有个题目 0 分？？？

---

出场发现楼宝也图图了，分比我还低。好像有不少人 T2 和我一样被卡常了。

感觉 C 这个题有点诈骗的，难绷。要是没有 T2 我是不是有一定概率能过这个题啊？

无所谓，我又不冲国家队。

## Day 3

开题，又发现三个题一点都不会！！！！！！！！！！！！！！！！！！！！

想了想 T1 咋 $\mathcal O(1)$ 求 $f(l,r)$，发现不会做。开 T2，发现这东西 $\mathcal O(n^2)$ 好像可以直接来，由于脑子特别不灵清调了一万年。

能不能分治？想了一会儿发现好像可以分治，这样 $\mathcal O(n\log n)$ 了！

算了算那个限制，感觉正解复杂度一定也是 $\mathcal O(n\log n)$，赢！

啪啪啪写完，写了个 checker 调了一万年，一交 80 多分，咋回事啊？

输出一下 $w=1024$，我的 $m$ 大概是 $41000$ 左右，出题人马死了喜欢卡常。

想了想咋八次变七次，想了半天，因为一直没有想到用 XOR于是根本想不出来。难道要用他那个神秘的 SUB 操作？花了好长时间理解这有什么用，完全理解不能。难道是在最底层卡卡常？又想了半天还是不会……

（感觉这东西八次变七次的难度有点像四个 NAND 搭一个异或门，我这辈子大概是永远搞不清这些东西是怎么想出来的了）

上个厕所吧。回来一看 zak 咋已经在睡觉了？啊？？？一看时间 11 点多，妈的换题开吧。

开 T1，观察了一下样例感觉样例里 $k=1$ 答案就是 $2$ 啊，懒得想了交一发，5 分。

推了推 T3，推了半天还是完全推不出充要条件。感觉这种推性质然后 DP 的数数题完全不在我能力范围内，写了 10 分弃之。

T1 咋做？？？把它转成逆排列推了半天，最后 1h 终于发现非平凡对只有 $\mathcal O(n)$ 个，可以直接来啊！

先写个 $\mathcal O(n^2\log n)$！！！调调调！！！过！改成 $\mathcal O(n^2)$！过！！

13:25！定睛一看，剩下唯一的地方咋是个卷积啊，好像还得双模 NTT，出题人你玩原神吗？？？

哦，性质 B 不用 NTT，可以多 10 分！写写写！！改了一发过样例，注释掉一些部分，提交！！！

13:29 | Compile Error.

啊？哦多注释了一句话，提交！！！交不上去了！！！！！！！！！！！

最后得分 30 + 80.18 + 10 = 120.18，险胜 zjb 0.18 分，乐。

大家还是一如既往的猛，中国国家集训队太恐怖了。

---

T1 果然就是这么个东西，感觉再给我 1h 应该能过（或者把 T3 删了）

感觉是不是在每场中都存在一个题使得把这个题删了我总分很可能更高，难绷。

说句闲话，我总感觉自己经常处于一个“待机状态”，反应好像比大多数人慢一点。于是我打 5 个小时的比赛打完经常感觉只过去了 3 个小时，而且这个症状好像有明显加重，不知道啥原因。

## Day 4

CTT 纯 shaber 比赛。

开题发现 T1 部分分又有一张表，马死了。

读完 T1 感觉这是不是全选最优啊？翻到最底下发现有负数，寄了。

想了一下发现合法当且仅当一个形如 $2x+y\le m-1$ 形式的条件满足，直接转化成背包了。体积还只有 $2$，反悔贪心直接来吧！这题咋这么简单？

写了个 $\mathcal O(n^2)$ 暴力，写完测样例的时候听到 $m=1$ 有锅，一看数据范围 $m\ge 0$，难绷。

反正是特判以后再管吧！理了一下细节开始写 $\mathcal O(n\log n)$，写一半突然说数据好了，样例重发了。过了 2s 的样子，突然全场炸开了锅，我点开样例一看 `std.cpp`，一读发现真你妈是 std，出题人你是 shaber 吗？交了 std 再说。

过了一会突然又说 T1 不算分，你们 CTT 都这么有戏剧性的吗？

开 T2，不会。开 T3，什么神秘东西。回去看 T2，感觉这东西必然是联合省选 2023 D1T2 状物，做法肯定是推点双的结论。于是先拆连通块再拆点双，发现他们独立，推了半天发现最大的边可以直接删去，然后递归下去合并，这样就可以 $\mathcal O(n^2)$ 了，但是好像有点难写的样子。

继续想想吧，是不是可以倒过来拿并查集维护点双？想了想感觉对的很，于是先写了暴力维护点双再搞了个并查集。中途挂了一次，靠拍拍出来的，过的时候 12 点多，速度有点太慢了。

终于在 CTT 中过了一个（没有被删掉的）题，太感动了！

感觉 T3 比较人力不可及，拼了个 sub1，~~然后不会 sub2，有点小丑~~。

写了个 $\frac{n^2}{2}$，然后搞了个乱搞，做法大概和 myee 的一样，就是随机选择若干个点全部删去，然后递归下去做。

但是我写的有点丑了，只有 20 分左右。最后试了几个种子调了调参，比赛就结束了。（比较乐的是把种子改成我的生日一下多了 5 分，~~不知道有没有什么原理可以解释这个现象~~）

最后 100 + 28.06 = 128.06，结束了。

（含精英集训）排名倒数前三十，成功打进了 STC，差一点就进辨答了！

## Day 5

回程，希望 zayin 下次别再出题了。